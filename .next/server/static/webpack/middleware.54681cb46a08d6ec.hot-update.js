"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middleware.js":
/*!***********************!*\
  !*** ./middleware.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n\n// Simple in-memory rate limiting\nconst rateLimit = new Map();\nconst RATE_LIMIT_WINDOW = 60 * 1000; // 1 minute\nconst MAX_REQUESTS = 5;\nasync function middleware(request) {\n    const ip = request.ip || \"127.0.0.1\";\n    const now = Date.now();\n    // Clean up old entries\n    for (const [key, timestamp] of rateLimit.entries()){\n        if (now - timestamp > RATE_LIMIT_WINDOW) {\n            rateLimit.delete(key);\n        }\n    }\n    // Check rate limit\n    const requestCount = Array.from(rateLimit.values()).filter((timestamp)=>now - timestamp <= RATE_LIMIT_WINDOW).length;\n    if (requestCount >= MAX_REQUESTS) {\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Too Many Requests\", {\n            status: 429\n        });\n    }\n    // Add current request\n    rateLimit.set(ip, now);\n    const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n    // Security headers\n    response.headers.set(\"X-Frame-Options\", \"DENY\");\n    response.headers.set(\"X-Content-Type-Options\", \"nosniff\");\n    response.headers.set(\"Referrer-Policy\", \"strict-origin-when-cross-origin\");\n    response.headers.set(\"Content-Security-Policy\", \"default-src 'self'\");\n    return response;\n}\nconst config = {\n    matcher: \"/api/:path*\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFFM0MsaUNBQWlDO0FBQ2pDLE1BQU1DLFlBQVksSUFBSUM7QUFDdEIsTUFBTUMsb0JBQW9CLEtBQUssTUFBTSxXQUFXO0FBQ2hELE1BQU1DLGVBQWU7QUFFZCxlQUFlQyxXQUFXQyxPQUFPO0lBQ3RDLE1BQU1DLEtBQUtELFFBQVFDLEVBQUUsSUFBSTtJQUN6QixNQUFNQyxNQUFNQyxLQUFLRCxHQUFHO0lBRXBCLHVCQUF1QjtJQUN2QixLQUFLLE1BQU0sQ0FBQ0UsS0FBS0MsVUFBVSxJQUFJVixVQUFVVyxPQUFPLEdBQUk7UUFDbEQsSUFBSUosTUFBTUcsWUFBWVIsbUJBQW1CO1lBQ3ZDRixVQUFVWSxNQUFNLENBQUNIO1FBQ25CO0lBQ0Y7SUFFQSxtQkFBbUI7SUFDbkIsTUFBTUksZUFBZUMsTUFBTUMsSUFBSSxDQUFDZixVQUFVZ0IsTUFBTSxJQUM3Q0MsTUFBTSxDQUFDUCxDQUFBQSxZQUFhSCxNQUFNRyxhQUFhUixtQkFDdkNnQixNQUFNO0lBRVQsSUFBSUwsZ0JBQWdCVixjQUFjO1FBQ2hDLE9BQU8sSUFBSUoscURBQVlBLENBQUMscUJBQXFCO1lBQUVvQixRQUFRO1FBQUk7SUFDN0Q7SUFFQSxzQkFBc0I7SUFDdEJuQixVQUFVb0IsR0FBRyxDQUFDZCxJQUFJQztJQUVsQixNQUFNYyxXQUFXdEIscURBQVlBLENBQUN1QixJQUFJO0lBRWxDLG1CQUFtQjtJQUNuQkQsU0FBU0UsT0FBTyxDQUFDSCxHQUFHLENBQUMsbUJBQW1CO0lBQ3hDQyxTQUFTRSxPQUFPLENBQUNILEdBQUcsQ0FBQywwQkFBMEI7SUFDL0NDLFNBQVNFLE9BQU8sQ0FBQ0gsR0FBRyxDQUFDLG1CQUFtQjtJQUN4Q0MsU0FBU0UsT0FBTyxDQUFDSCxHQUFHLENBQUMsMkJBQTJCO0lBRWhELE9BQU9DO0FBQ1Q7QUFFTyxNQUFNRyxTQUFTO0lBQ3BCQyxTQUFTO0FBQ1gsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9taWRkbGV3YXJlLmpzPzNiY2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5cclxuLy8gU2ltcGxlIGluLW1lbW9yeSByYXRlIGxpbWl0aW5nXHJcbmNvbnN0IHJhdGVMaW1pdCA9IG5ldyBNYXAoKTtcclxuY29uc3QgUkFURV9MSU1JVF9XSU5ET1cgPSA2MCAqIDEwMDA7IC8vIDEgbWludXRlXHJcbmNvbnN0IE1BWF9SRVFVRVNUUyA9IDU7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlkZGxld2FyZShyZXF1ZXN0KSB7XHJcbiAgY29uc3QgaXAgPSByZXF1ZXN0LmlwIHx8ICcxMjcuMC4wLjEnO1xyXG4gIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgXHJcbiAgLy8gQ2xlYW4gdXAgb2xkIGVudHJpZXNcclxuICBmb3IgKGNvbnN0IFtrZXksIHRpbWVzdGFtcF0gb2YgcmF0ZUxpbWl0LmVudHJpZXMoKSkge1xyXG4gICAgaWYgKG5vdyAtIHRpbWVzdGFtcCA+IFJBVEVfTElNSVRfV0lORE9XKSB7XHJcbiAgICAgIHJhdGVMaW1pdC5kZWxldGUoa2V5KTtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gQ2hlY2sgcmF0ZSBsaW1pdFxyXG4gIGNvbnN0IHJlcXVlc3RDb3VudCA9IEFycmF5LmZyb20ocmF0ZUxpbWl0LnZhbHVlcygpKVxyXG4gICAgLmZpbHRlcih0aW1lc3RhbXAgPT4gbm93IC0gdGltZXN0YW1wIDw9IFJBVEVfTElNSVRfV0lORE9XKVxyXG4gICAgLmxlbmd0aDtcclxuICAgIFxyXG4gIGlmIChyZXF1ZXN0Q291bnQgPj0gTUFYX1JFUVVFU1RTKSB7XHJcbiAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZSgnVG9vIE1hbnkgUmVxdWVzdHMnLCB7IHN0YXR1czogNDI5IH0pO1xyXG4gIH1cclxuICBcclxuICAvLyBBZGQgY3VycmVudCByZXF1ZXN0XHJcbiAgcmF0ZUxpbWl0LnNldChpcCwgbm93KTtcclxuXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UubmV4dCgpO1xyXG4gIFxyXG4gIC8vIFNlY3VyaXR5IGhlYWRlcnNcclxuICByZXNwb25zZS5oZWFkZXJzLnNldCgnWC1GcmFtZS1PcHRpb25zJywgJ0RFTlknKTtcclxuICByZXNwb25zZS5oZWFkZXJzLnNldCgnWC1Db250ZW50LVR5cGUtT3B0aW9ucycsICdub3NuaWZmJyk7XHJcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ1JlZmVycmVyLVBvbGljeScsICdzdHJpY3Qtb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luJyk7XHJcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoJ0NvbnRlbnQtU2VjdXJpdHktUG9saWN5JywgXCJkZWZhdWx0LXNyYyAnc2VsZidcIik7XHJcbiAgXHJcbiAgcmV0dXJuIHJlc3BvbnNlO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIG1hdGNoZXI6ICcvYXBpLzpwYXRoKicsXHJcbn07ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJyYXRlTGltaXQiLCJNYXAiLCJSQVRFX0xJTUlUX1dJTkRPVyIsIk1BWF9SRVFVRVNUUyIsIm1pZGRsZXdhcmUiLCJyZXF1ZXN0IiwiaXAiLCJub3ciLCJEYXRlIiwia2V5IiwidGltZXN0YW1wIiwiZW50cmllcyIsImRlbGV0ZSIsInJlcXVlc3RDb3VudCIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImZpbHRlciIsImxlbmd0aCIsInN0YXR1cyIsInNldCIsInJlc3BvbnNlIiwibmV4dCIsImhlYWRlcnMiLCJjb25maWciLCJtYXRjaGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./middleware.js\n");

/***/ })

});